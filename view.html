<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Research View</title>
    <link rel="stylesheet" href="./src/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@300;400;700&display=swap" rel="stylesheet">
</head>

<body class="view-page">
    <nav>
        <div class="logo">ANTIGRAVITY</div>
        <a href="index.html" class="btn-back">â† Back to List</a>
    </nav>

    <main id="article-container">
        <div style="text-align:center; padding-top:200px; color:#94a3b8;">ë°ì´í„° ë¡œë”© ì¤‘...</div>
    </main>

    <!-- data.js ë¡œë“œ -->
    <script src="./src/data.js"></script>

    <script>
        // DOM ë¡œë“œ í›„ ì‹¤í–‰
        window.addEventListener('DOMContentLoaded', () => {
            // 1. URLì—ì„œ ID íŒŒì‹±
            const params = new URLSearchParams(window.location.search);
            const id = params.get('id');

            // 2. ë°ì´í„° í™•ì¸ (data.jsì—ì„œ ë¡œë“œëœ ì „ì—­ ë³€ìˆ˜ PROJECTS)
            if (typeof PROJECTS === 'undefined') {
                console.error("âŒ PROJECTS ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
                return;
            }

            // 3. í”„ë¡œì íŠ¸ ê²€ìƒ‰
            const project = PROJECTS.find(p => p.id == id);

            // 4. ì˜ˆì™¸ ì²˜ë¦¬
            if (!project) {
                alert('ì˜¬ë°”ë¥´ì§€ ì•Šì€ ì ‘ê·¼ì…ë‹ˆë‹¤. ë©”ì¸ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.');
                window.location.href = 'index.html';
            } else {
                console.log("ğŸ“„ ë Œë”ë§:", project.title);

                // 5. ë°ì´í„° ë Œë”ë§
                const container = document.getElementById('article-container');
                container.innerHTML = `
                    <header class="article-header" style="background-image: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.9)), url('${project.image}')">
                        <div class="header-content">
                            <div class="tags">${project.tags.map(t => `<span class="tag">${t}</span>`).join('')}</div>
                            <h1>${project.title}</h1>
                            <p class="date">Status: ${project.status}</p>
                        </div>
                    </header>
                    <article class="article-body">
                        ${project.body}
                    </article>
                    <footer class="article-footer">
                        <p>í¥ë¯¸ë¡œìš´ ì£¼ì œì˜€ë‚˜ìš”?</p>
                        <a href="index.html" class="btn-primary">â† ë‹¤ë¥¸ ë¦¬ì„œì¹˜ ë³´ëŸ¬ê°€ê¸°</a>
                    </footer>
                `;
            }
        });
    </script>
</body>

</html>